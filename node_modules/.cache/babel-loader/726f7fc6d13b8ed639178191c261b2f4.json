{"ast":null,"code":"import _classCallCheck from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/src/components/People/People.js\";\nimport React, { Component } from 'react';\nimport Person from './Person/Person';\n\nvar people =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(people, _Component);\n\n  function people(props) {\n    var _this;\n\n    _classCallCheck(this, people);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(people).call(this, props));\n    _this.state = {\n      people: []\n    };\n    var ws = new WebSocket('ws://localhost:7770');\n\n    ws.onopen = function () {\n      ws.send('init');\n    };\n\n    _this.state.people.push(ws.onmessage = function (e) {\n      var message = null;\n\n      try {\n        message = JSON.parse(e.data);\n      } catch (e) {\n        console.log('malformed message');\n      }\n\n      if (message) {\n        console.log(\"e:\", e);\n        console.log(\"data:\", e.data);\n        console.log(\"value:\", e.data[id]);\n        console.log(\"the record:\", {\n          key: e.data.id,\n          id: e.data.id,\n          name: e.data.name,\n          number: e.data.value\n        });\n        return {\n          key: e.data.id,\n          id: e.data.id,\n          name: e.data.name,\n          number: e.data.value\n        };\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(people, [{\n    key: \"render\",\n    value: function render() {\n      return this.state.people.map(function (person, index) {\n        return React.createElement(Person, {\n          key: person.id,\n          id: person.id,\n          name: person.name,\n          number: person.number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      });\n    }\n  }]);\n\n  return people;\n}(Component);\n\nexport default people;","map":{"version":3,"sources":["/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/src/components/People/People.js"],"names":["React","Component","Person","people","props","state","ws","WebSocket","onopen","send","push","onmessage","e","message","JSON","parse","data","console","log","id","key","name","number","value","map","person","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;;IAEMC,M;;;;;AAEF,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,gFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTF,MAAAA,MAAM,EAAE;AADC,KAAb;AAIA,QAAMG,EAAE,GAAG,IAAIC,SAAJ,CAAc,qBAAd,CAAX;;AACAD,IAAAA,EAAE,CAACE,MAAH,GAAY,YAAM;AACdF,MAAAA,EAAE,CAACG,IAAH,CAAQ,MAAR;AACH,KAFD;;AAIA,UAAKJ,KAAL,CAAWF,MAAX,CAAkBO,IAAlB,CAAuBJ,EAAE,CAACK,SAAH,GAAe,UAAAC,CAAC,EAAI;AACvC,UAAIC,OAAO,GAAG,IAAd;;AACA,UAAI;AACAA,QAAAA,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACI,IAAb,CAAV;AACH,OAFD,CAEE,OAAMJ,CAAN,EAAS;AACPK,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH;;AACD,UAAIL,OAAJ,EAAa;AACTI,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBN,CAAlB;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,CAAC,CAACI,IAAvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBN,CAAC,CAACI,IAAF,CAAOG,EAAP,CAAtB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B;AAACE,UAAAA,GAAG,EAAER,CAAC,CAACI,IAAF,CAAOG,EAAb;AAAiBA,UAAAA,EAAE,EAAEP,CAAC,CAACI,IAAF,CAAOG,EAA5B;AAAgCE,UAAAA,IAAI,EAAET,CAAC,CAACI,IAAF,CAAOK,IAA7C;AAAmDC,UAAAA,MAAM,EAAEV,CAAC,CAACI,IAAF,CAAOO;AAAlE,SAA3B;AACA,eAAO;AAACH,UAAAA,GAAG,EAAER,CAAC,CAACI,IAAF,CAAOG,EAAb;AAAiBA,UAAAA,EAAE,EAAEP,CAAC,CAACI,IAAF,CAAOG,EAA5B;AAAgCE,UAAAA,IAAI,EAAET,CAAC,CAACI,IAAF,CAAOK,IAA7C;AAAmDC,UAAAA,MAAM,EAAEV,CAAC,CAACI,IAAF,CAAOO;AAAlE,SAAP;AACH;AACJ,KAdD;;AAZc;AA2BjB;;;;6BAEO;AACJ,aAAO,KAAKlB,KAAL,CAAWF,MAAX,CAAkBqB,GAAlB,CAAuB,UAACC,MAAD,EAASC,KAAT,EAAmB;AAC7C,eAAO,oBAAC,MAAD;AACH,UAAA,GAAG,EAAID,MAAM,CAACN,EADX;AAEH,UAAA,EAAE,EAAIM,MAAM,CAACN,EAFV;AAGH,UAAA,IAAI,EAAIM,MAAM,CAACJ,IAHZ;AAIH,UAAA,MAAM,EAAII,MAAM,CAACH,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAKH,OANM,CAAP;AAOH;;;;EAvCgBrB,S;;AA0CrB,eAAeE,MAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport Person from './Person/Person'\n\nclass people extends Component {\n\n    constructor(props){\n        super(props);\n        \n        this.state = {\n            people: []\n        };\n\n        const ws = new WebSocket('ws://localhost:7770');\n        ws.onopen = () => {\n            ws.send('init');\n        }\n\n        this.state.people.push(ws.onmessage = e => {\n            var message = null;\n            try {\n                message = JSON.parse(e.data);\n            } catch(e) {\n                console.log('malformed message');\n            }\n            if (message) {\n                console.log(\"e:\", e)\n                console.log(\"data:\", e.data)\n                console.log(\"value:\", e.data[id])\n                console.log(\"the record:\", {key: e.data.id, id: e.data.id, name: e.data.name, number: e.data.value});\n                return {key: e.data.id, id: e.data.id, name: e.data.name, number: e.data.value};\n            }\n        });\n    }\n    \n    render(){\n        return this.state.people.map( (person, index) => {\n            return <Person\n                key = {person.id} \n                id = {person.id} \n                name = {person.name} \n                number = {person.number}/>\n        });\n    }\n}\n\nexport default people;"]},"metadata":{},"sourceType":"module"}