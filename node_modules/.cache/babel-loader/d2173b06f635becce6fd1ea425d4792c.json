{"ast":null,"code":"import _toConsumableArray from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/src/components/People/People.js\";\nimport React, { Component } from 'react';\nimport Person from './Person/Person';\n\nvar people =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(people, _Component);\n\n  function people() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, people);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(people)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      people: [// {id: 0, name: \"test\", number: 1},\n        // {id: 1, name: \"test\", number: 1},\n        // {id: 2, name: \"test\", number: 1},\n        // {id: 3, name: \"test\", number: 1},\n        // {id: 4, name: \"test\", number: 1},\n        // {id: 5, name: \"test\", number: 1},\n        // {id: 6, name: \"test\", number: 1},\n        // {id: 7, name: \"test\", number: 1},\n        // {id: 8, name: \"test\", number: 1},\n        // {id: 9, name: \"test\", number: 1},\n        // {id: 10, name: \"test\", number: 1},\n        // {id: 11, name: \"test\", number: 1},\n        // {id: 12, name: \"test\", number: 1},\n        // {id: 13, name: \"test\", number: 1},\n        // {id: 14, name: \"test\", number: 1},\n        // {id: 15, name: \"test\", number: 1},\n        // {id: 16, name: \"test\", number: 1},\n        // {id: 17, name: \"test\", number: 1},\n        // {id: 18, name: \"test\", number: 1},\n        // {id: 19, name: \"test\", number: 1},\n        // {id: 20, name: \"test\", number: 1},\n        // {id: 21, name: \"test\", number: 1},\n        // {id: 22, name: \"test\", number: 1},\n        // {id: 23, name: \"test\", number: 1},\n        // {id: 24, name: \"test\", number: 1},\n        // {id: 25, name: \"test\", number: 1},\n        // {id: 26, name: \"test\", number: 1},\n        // {id: 27, name: \"test\", number: 1},\n        // {id: 28, name: \"test\", number: 1},\n        // {id: 29, name: \"test\", number: 1},\n        // {id: 30, name: \"test\", number: 1},\n        // {id: 31, name: \"test\", number: 1},\n        // {id: 32, name: \"test\", number: 1},\n        // {id: 33, name: \"test\", number: 1},\n        // {id: 34, name: \"test\", number: 1},\n        // {id: 35, name: \"test\", number: 1},\n        // {id: 36, name: \"test\", number: 1},\n        // {id: 37, name: \"test\", number: 1},\n        // {id: 38, name: \"test\", number: 1},\n        // {id: 39, name: \"test\", number: 1},\n        // {id: 40, name: \"test\", number: 1},\n        // {id: 41, name: \"test\", number: 1},\n        // {id: 42, name: \"test\", number: 1},\n        // {id: 43, name: \"test\", number: 1},\n        // {id: 44, name: \"test\", number: 1},\n        // {id: 45, name: \"test\", number: 1},\n        // {id: 46, name: \"test\", number: 1},\n        // {id: 47, name: \"test\", number: 1},\n        // {id: 48, name: \"test\", number: 1},\n        // {id: 49, name: \"test\", number: 1},\n        // {id: 50, name: \"test\", number: 1},\n        // {id: 51, name: \"test\", number: 1},\n        // {id: 52, name: \"test\", number: 1},\n        // {id: 53, name: \"test\", number: 1},\n        // {id: 54, name: \"test\", number: 1},\n        // {id: 55, name: \"test\", number: 1},\n        // {id: 56, name: \"test\", number: 1},\n        // {id: 57, name: \"test\", number: 1},\n        // {id: 58, name: \"test\", number: 1},\n        // {id: 59, name: \"test\", number: 1},\n        // {id: 60, name: \"test\", number: 1},\n        // {id: 61, name: \"test\", number: 1},\n        // {id: 62, name: \"test\", number: 1},\n        // {id: 63, name: \"test\", number: 1},\n        // {id: 64, name: \"test\", number: 1},\n        // {id: 65, name: \"test\", number: 1},\n        // {id: 66, name: \"test\", number: 1},\n        // {id: 67, name: \"test\", number: 1},\n        // {id: 68, name: \"test\", number: 1},\n        // {id: 69, name: \"test\", number: 1},\n        // {id: 70, name: \"test\", number: 1},\n        // {id: 71, name: \"test\", number: 1},\n        // {id: 72, name: \"test\", number: 1},\n        // {id: 73, name: \"test\", number: 1},\n        // {id: 74, name: \"test\", number: 1},\n        // {id: 75, name: \"test\", number: 1},\n        // {id: 76, name: \"test\", number: 1},\n        // {id: 77, name: \"test\", number: 1},\n        // {id: 78, name: \"test\", number: 1},\n        // {id: 79, name: \"test\", number: 1},\n        // {id: 80, name: \"test\", number: 1},\n        // {id: 81, name: \"test\", number: 1},\n        // {id: 82, name: \"test\", number: 1},\n        // {id: 83, name: \"test\", number: 1},\n        // {id: 84, name: \"test\", number: 1},\n        // {id: 85, name: \"test\", number: 1},\n        // {id: 86, name: \"test\", number: 1},\n        // {id: 87, name: \"test\", number: 1},\n        // {id: 88, name: \"test\", number: 1},\n        // {id: 89, name: \"test\", number: 1},\n        // {id: 90, name: \"test\", number: 1},\n        // {id: 91, name: \"test\", number: 1},\n        // {id: 92, name: \"test\", number: 1},\n        // {id: 93, name: \"test\", number: 1},\n        // {id: 94, name: \"test\", number: 1},\n        // {id: 95, name: \"test\", number: 1},\n        // {id: 96, name: \"test\", number: 1},\n        // {id: 97, name: \"test\", number: 1},\n        // {id: 98, name: \"test\", number: 1},\n        // {id: 99, name: \"test\", number: 1}\n      ],\n      endpoint: 'ws://localhost:7770'\n    };\n    return _this;\n  }\n\n  _createClass(people, [{\n    key: \"locationOf\",\n    value: function (_locationOf) {\n      function locationOf(_x, _x2, _x3, _x4) {\n        return _locationOf.apply(this, arguments);\n      }\n\n      locationOf.toString = function () {\n        return _locationOf.toString();\n      };\n\n      return locationOf;\n    }(function (element, array, start, end) {\n      start = start || 0;\n      end = end || array.length;\n      var pivot = parseInt(start + (end - start) / 2, 10);\n      if (end - start <= 1 || array[pivot] === element) return pivot;\n\n      if (array[pivot] < element) {\n        return locationOf(element, array, pivot, end);\n      } else {\n        return locationOf(element, array, start, pivot);\n      }\n    })\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.socket = new WebSocket(this.state.endpoint);\n\n      this.socket.onopen = function () {\n        _this2.socket.send('init');\n      };\n\n      this.socket.onmessage = function (e) {\n        var message = null;\n\n        try {\n          message = JSON.parse(e.data);\n        } catch (e) {\n          console.log('malformed message');\n        }\n\n        if (message) {\n          var _people = _toConsumableArray(_this2.state.people);\n\n          console.log(\"in the socket:\", _people);\n\n          _people.splice(message.id, 1, {\n            id: message.id,\n            name: message.name,\n            number: message.value\n          }); // people[message.id]= {id: message.id, name: message.name, number: message.value};\n\n\n          _this2.setState({\n            people: _people\n          });\n        }\n      };\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.socket.close();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\":\", this.state.people);\n      return this.state.people.map(function (person) {\n        return React.createElement(Person, {\n          key: person.id,\n          id: person.id,\n          name: person.name,\n          number: person.number,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        });\n      });\n    }\n  }]);\n\n  return people;\n}(Component);\n\nexport default people; // filter( el => {return el !== undefined})","map":{"version":3,"sources":["/Users/dominicscotto/Desktop/Portfolio/react_rest/homework-dominic-scotto/src/components/People/People.js"],"names":["React","Component","Person","people","state","endpoint","element","array","start","end","length","pivot","parseInt","locationOf","socket","WebSocket","onopen","send","onmessage","e","message","JSON","parse","data","console","log","splice","id","name","number","value","setState","close","map","person"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;;IAEMC,M;;;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJD,MAAAA,MAAM,EAAE,CACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApGI,OADJ;AAuGJE,MAAAA,QAAQ,EAAE;AAvGN,K;;;;;;;;;;;;;;;;gBA0GGC,O,EAASC,K,EAAOC,K,EAAOC,G,EAAK;AACjCD,MAAAA,KAAK,GAAGA,KAAK,IAAI,CAAjB;AACAC,MAAAA,GAAG,GAAGA,GAAG,IAAIF,KAAK,CAACG,MAAnB;AACA,UAAIC,KAAK,GAAGC,QAAQ,CAACJ,KAAK,GAAG,CAACC,GAAG,GAAGD,KAAP,IAAgB,CAAzB,EAA4B,EAA5B,CAApB;AACA,UAAIC,GAAG,GAACD,KAAJ,IAAa,CAAb,IAAkBD,KAAK,CAACI,KAAD,CAAL,KAAiBL,OAAvC,EAAgD,OAAOK,KAAP;;AAChD,UAAIJ,KAAK,CAACI,KAAD,CAAL,GAAeL,OAAnB,EAA4B;AAC1B,eAAOO,UAAU,CAACP,OAAD,EAAUC,KAAV,EAAiBI,KAAjB,EAAwBF,GAAxB,CAAjB;AACD,OAFD,MAEO;AACL,eAAOI,UAAU,CAACP,OAAD,EAAUC,KAAV,EAAiBC,KAAjB,EAAwBG,KAAxB,CAAjB;AACD;AACF,K;;;wCAEc;AAAA;;AACf,WAAKG,MAAL,GAAc,IAAIC,SAAJ,CAAc,KAAKX,KAAL,CAAWC,QAAzB,CAAd;;AACA,WAAKS,MAAL,CAAYE,MAAZ,GAAqB,YAAM;AACvB,QAAA,MAAI,CAACF,MAAL,CAAYG,IAAZ,CAAiB,MAAjB;AACH,OAFD;;AAGA,WAAKH,MAAL,CAAYI,SAAZ,GAAwB,UAAAC,CAAC,EAAI;AACzB,YAAIC,OAAO,GAAG,IAAd;;AACA,YAAI;AACAA,UAAAA,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACI,IAAb,CAAV;AACH,SAFD,CAEE,OAAMJ,CAAN,EAAS;AACPK,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH;;AACD,YAAIL,OAAJ,EAAa;AACT,cAAMjB,OAAM,sBAAO,MAAI,CAACC,KAAL,CAAWD,MAAlB,CAAZ;;AACAqB,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BtB,OAA9B;;AACAA,UAAAA,OAAM,CAACuB,MAAP,CAAcN,OAAO,CAACO,EAAtB,EAA0B,CAA1B,EAA6B;AAACA,YAAAA,EAAE,EAAEP,OAAO,CAACO,EAAb;AAAiBC,YAAAA,IAAI,EAAER,OAAO,CAACQ,IAA/B;AAAqCC,YAAAA,MAAM,EAAET,OAAO,CAACU;AAArD,WAA7B,EAHS,CAIT;;;AACA,UAAA,MAAI,CAACC,QAAL,CAAc;AAAC5B,YAAAA,MAAM,EAACA;AAAR,WAAd;AACH;AACJ,OAdD;AAeH;;;2CAEqB;AAClB,WAAKW,MAAL,CAAYkB,KAAZ;AACH;;;6BAEO;AACJR,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiB,KAAKrB,KAAL,CAAWD,MAA5B;AACA,aAAO,KAAKC,KAAL,CAAWD,MAAX,CAAkB8B,GAAlB,CAAuB,UAAAC,MAAM,EAAI;AACpC,eAAO,oBAAC,MAAD;AACH,UAAA,GAAG,EAAIA,MAAM,CAACP,EADX;AAEH,UAAA,EAAE,EAAIO,MAAM,CAACP,EAFV;AAGH,UAAA,IAAI,EAAIO,MAAM,CAACN,IAHZ;AAIH,UAAA,MAAM,EAAIM,MAAM,CAACL,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAKH,OANM,CAAP;AAOH;;;;EA3JgB5B,S;;AA8JrB,eAAeE,MAAf,C,CAEA","sourcesContent":["import React, { Component } from 'react';\n\nimport Person from './Person/Person'\n\nclass people extends Component {\n\n    state = {\n        people: [\n            // {id: 0, name: \"test\", number: 1},\n            // {id: 1, name: \"test\", number: 1},\n            // {id: 2, name: \"test\", number: 1},\n            // {id: 3, name: \"test\", number: 1},\n            // {id: 4, name: \"test\", number: 1},\n            // {id: 5, name: \"test\", number: 1},\n            // {id: 6, name: \"test\", number: 1},\n            // {id: 7, name: \"test\", number: 1},\n            // {id: 8, name: \"test\", number: 1},\n            // {id: 9, name: \"test\", number: 1},\n            // {id: 10, name: \"test\", number: 1},\n            // {id: 11, name: \"test\", number: 1},\n            // {id: 12, name: \"test\", number: 1},\n            // {id: 13, name: \"test\", number: 1},\n            // {id: 14, name: \"test\", number: 1},\n            // {id: 15, name: \"test\", number: 1},\n            // {id: 16, name: \"test\", number: 1},\n            // {id: 17, name: \"test\", number: 1},\n            // {id: 18, name: \"test\", number: 1},\n            // {id: 19, name: \"test\", number: 1},\n            // {id: 20, name: \"test\", number: 1},\n            // {id: 21, name: \"test\", number: 1},\n            // {id: 22, name: \"test\", number: 1},\n            // {id: 23, name: \"test\", number: 1},\n            // {id: 24, name: \"test\", number: 1},\n            // {id: 25, name: \"test\", number: 1},\n            // {id: 26, name: \"test\", number: 1},\n            // {id: 27, name: \"test\", number: 1},\n            // {id: 28, name: \"test\", number: 1},\n            // {id: 29, name: \"test\", number: 1},\n            // {id: 30, name: \"test\", number: 1},\n            // {id: 31, name: \"test\", number: 1},\n            // {id: 32, name: \"test\", number: 1},\n            // {id: 33, name: \"test\", number: 1},\n            // {id: 34, name: \"test\", number: 1},\n            // {id: 35, name: \"test\", number: 1},\n            // {id: 36, name: \"test\", number: 1},\n            // {id: 37, name: \"test\", number: 1},\n            // {id: 38, name: \"test\", number: 1},\n            // {id: 39, name: \"test\", number: 1},\n            // {id: 40, name: \"test\", number: 1},\n            // {id: 41, name: \"test\", number: 1},\n            // {id: 42, name: \"test\", number: 1},\n            // {id: 43, name: \"test\", number: 1},\n            // {id: 44, name: \"test\", number: 1},\n            // {id: 45, name: \"test\", number: 1},\n            // {id: 46, name: \"test\", number: 1},\n            // {id: 47, name: \"test\", number: 1},\n            // {id: 48, name: \"test\", number: 1},\n            // {id: 49, name: \"test\", number: 1},\n            // {id: 50, name: \"test\", number: 1},\n            // {id: 51, name: \"test\", number: 1},\n            // {id: 52, name: \"test\", number: 1},\n            // {id: 53, name: \"test\", number: 1},\n            // {id: 54, name: \"test\", number: 1},\n            // {id: 55, name: \"test\", number: 1},\n            // {id: 56, name: \"test\", number: 1},\n            // {id: 57, name: \"test\", number: 1},\n            // {id: 58, name: \"test\", number: 1},\n            // {id: 59, name: \"test\", number: 1},\n            // {id: 60, name: \"test\", number: 1},\n            // {id: 61, name: \"test\", number: 1},\n            // {id: 62, name: \"test\", number: 1},\n            // {id: 63, name: \"test\", number: 1},\n            // {id: 64, name: \"test\", number: 1},\n            // {id: 65, name: \"test\", number: 1},\n            // {id: 66, name: \"test\", number: 1},\n            // {id: 67, name: \"test\", number: 1},\n            // {id: 68, name: \"test\", number: 1},\n            // {id: 69, name: \"test\", number: 1},\n            // {id: 70, name: \"test\", number: 1},\n            // {id: 71, name: \"test\", number: 1},\n            // {id: 72, name: \"test\", number: 1},\n            // {id: 73, name: \"test\", number: 1},\n            // {id: 74, name: \"test\", number: 1},\n            // {id: 75, name: \"test\", number: 1},\n            // {id: 76, name: \"test\", number: 1},\n            // {id: 77, name: \"test\", number: 1},\n            // {id: 78, name: \"test\", number: 1},\n            // {id: 79, name: \"test\", number: 1},\n            // {id: 80, name: \"test\", number: 1},\n            // {id: 81, name: \"test\", number: 1},\n            // {id: 82, name: \"test\", number: 1},\n            // {id: 83, name: \"test\", number: 1},\n            // {id: 84, name: \"test\", number: 1},\n            // {id: 85, name: \"test\", number: 1},\n            // {id: 86, name: \"test\", number: 1},\n            // {id: 87, name: \"test\", number: 1},\n            // {id: 88, name: \"test\", number: 1},\n            // {id: 89, name: \"test\", number: 1},\n            // {id: 90, name: \"test\", number: 1},\n            // {id: 91, name: \"test\", number: 1},\n            // {id: 92, name: \"test\", number: 1},\n            // {id: 93, name: \"test\", number: 1},\n            // {id: 94, name: \"test\", number: 1},\n            // {id: 95, name: \"test\", number: 1},\n            // {id: 96, name: \"test\", number: 1},\n            // {id: 97, name: \"test\", number: 1},\n            // {id: 98, name: \"test\", number: 1},\n            // {id: 99, name: \"test\", number: 1}\n        ],\n        endpoint: 'ws://localhost:7770'\n    };\n\n    locationOf(element, array, start, end) {\n          start = start || 0;\n          end = end || array.length;\n          var pivot = parseInt(start + (end - start) / 2, 10);\n          if (end-start <= 1 || array[pivot] === element) return pivot;\n          if (array[pivot] < element) {\n            return locationOf(element, array, pivot, end);\n          } else {\n            return locationOf(element, array, start, pivot);\n          }\n        }\n\n    componentDidMount(){\n        this.socket = new WebSocket(this.state.endpoint);\n        this.socket.onopen = () => {\n            this.socket.send('init');\n        }\n        this.socket.onmessage = e => {\n            var message = null;\n            try {\n                message = JSON.parse(e.data);\n            } catch(e) {\n                console.log('malformed message');\n            }\n            if (message) {\n                const people = [...this.state.people];\n                console.log(\"in the socket:\", people);\n                people.splice(message.id, 1, {id: message.id, name: message.name, number: message.value});\n                // people[message.id]= {id: message.id, name: message.name, number: message.value};\n                this.setState({people:people});\n            }\n        } \n    }\n\n    componentWillUnmount(){\n        this.socket.close();\n    }\n\n    render(){\n        console.log(\":\", this.state.people);\n        return this.state.people.map( person => {\n            return <Person\n                key = {person.id} \n                id = {person.id} \n                name = {person.name} \n                number = {person.number}/>\n        })\n    }\n}\n\nexport default people;\n\n// filter( el => {return el !== undefined})"]},"metadata":{},"sourceType":"module"}